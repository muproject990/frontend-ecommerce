"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[479],{4479:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r,a=t(7528),n=t(459),c=t(8250),i=t(6438),l=t(5043),d=t(579);function o(){const e=(0,n.J1)(r||(r=(0,a.A)(["\n    query getProducts($first: Int!, $after: String!) {\n      getProducts(first: $first, after: $after) {\n        products {\n          id\n          name\n          description\n          price\n          url\n          stock\n          images {\n            url\n          }\n        }\n        metaData {\n          hasNextPage\n          lastCursor\n        }\n      }\n    }\n  "]))),{loading:s,error:t,data:o,fetchMore:u}=(0,c.I)(e,{variables:{first:8,after:"1"}});if((0,l.useEffect)((()=>{function e(e){window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight&&(console.log(null===o||void 0===o?void 0:o.getProducts.metaData,"meta data"),null!==o&&void 0!==o&&o.getProducts.metaData.hasNextPage&&(console.log("loading more"),u({variables:{first:8,after:(null===o||void 0===o?void 0:o.getProducts.metaData.lastCursor.toString())||"1"}})))}return document.addEventListener("scroll",e),()=>{document.removeEventListener("scroll",e)}}),[o]),t)return(0,d.jsx)("div",{children:"Error"});if(s){const e=new Array(20).fill(0);return(0,d.jsx)("div",{className:"flex items-center justify-center",children:(0,d.jsx)("div",{className:"grid grid-cols-3 gap-4",children:e.map(((e,s)=>(0,d.jsx)(m,{},s)))})})}return(0,d.jsx)("div",{className:"flex text-sm items-center justify-center",children:(0,d.jsx)("div",{className:" sm:grid-cols-2 grid md:grid-cols-3 gap-4",children:o&&o.getProducts&&o.getProducts.products.map(((e,s)=>(0,l.createElement)(i.A,{...e,key:s})))})})}function m(){return(0,d.jsx)("div",{className:"rounded-md p-4 max-w-sm w-full mx-auto",children:(0,d.jsxs)("div",{className:"animate-pulse flex-col flex space-x-4",children:[(0,d.jsx)("div",{className:"bg-gray-200 h-[240px] w-[200px]"}),(0,d.jsxs)("div",{className:"flex-1 space-y-6 py-1",children:[(0,d.jsx)("div",{className:"h-2 bg-gray-200 "}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsx)("div",{className:"h-2 bg-gray-200  col-span-2"}),(0,d.jsx)("div",{className:"h-2 bg-gray-200  col-span-1"})]}),(0,d.jsx)("div",{className:"h-2 bg-gray-100 "})]})]})]})})}}}]);
//# sourceMappingURL=479.36989361.chunk.js.map