"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[610],{9610:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(8387),r=a(5043),l=a(4858),i=a(5475),n=a(3216),c=a(3126),d=a(182),o=a(2672),x=a(6328),m=a(579);function u(){const[e,s]=(0,r.useState)(1),[a,t]=(0,r.useState)("");return(0,m.jsxs)("div",{className:"flex p-4 items-center flex-col gap-y-4 justify-center",children:[(0,m.jsx)("div",{className:"flex items-center justify-center",children:(0,m.jsx)(d.A,{})}),1===e?(0,m.jsx)(h,{email:a,setEmail:t,setStep:s}):(0,m.jsx)(j,{email:a,setStep:s})]})}function h(e){(0,o.h)()&&(window.location.href="/");const[s,a]=(0,r.useState)(!1),{register:n,formState:{errors:d},handleSubmit:x,getValues:u}=(0,l.mN)({defaultValues:{email:e.email}});return(0,m.jsx)("div",{className:"max-w-[450px] text-sm text-gray-700",children:(0,m.jsxs)("form",{onSubmit:x((async function(s){try{200===(await(0,c.A)("/email-verification",{method:"POST",data:{email:s.email}})).status&&(e.setEmail(s.email),e.setStep(2))}catch(a){console.error("Error ")}})),className:"flex flex-col gap-y-1",children:[(0,m.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,m.jsx)("h2",{className:"",children:"Enter your email to join us or sign in."}),(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("div",{style:{width:"fit-content"},className:(0,t.A)("flex items-center justify-center transition duration-200 px-1 justify-center absolute",{"bottom-[45px] text-xs":s,"inset-0 ":!s&&!u("email")}),children:(0,m.jsx)("label",{className:"bg-white px-2 rounded",children:"Email"})}),(0,m.jsx)("input",{onFocus:()=>{a(!0)},className:"border w-full text-sm rounded p-4",...n("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"},onBlur:()=>{a(!1)}})})]})]}),d.email&&(0,m.jsx)("p",{children:(0,m.jsx)("span",{className:"text-red-500 text-xs",children:d.email.message})}),(0,m.jsxs)("p",{className:"",children:["By continuing, I agree to SneakerVault \xa0",(0,m.jsx)(i.N_,{className:"underline",to:"/privacy-policy",children:"Privacy Policy \xa0"}),"and"," ",(0,m.jsx)(i.N_,{className:"underline",to:"/terms",children:"Terms of Use."})]}),(0,m.jsx)("div",{className:"text-end",children:(0,m.jsx)("button",{type:"submit",className:"bg-gray-700 hover:bg-gray-800 text-white text-sm rounded p-2",children:"Continue"})}),(0,m.jsxs)("p",{className:"text-gray-600",children:["Already have an account?\xa0",(0,m.jsx)(i.N_,{className:"hover:underline",to:"/signin",children:"Sign in"})]})]})})}function j(e){var s;const a=(0,n.Zp)(),{register:t,handleSubmit:r,getValues:d,formState:{errors:o}}=(0,l.mN)();return(0,m.jsx)("div",{className:"max-w-[450px] text-sm",children:(0,m.jsxs)("form",{onSubmit:r((async function(s){try{const t=await c.A.post("join",{...s,email:e.email});if(201===t.status){const{token:e}=t.data;e&&(window.localStorage.setItem("token",e),a("/collections",{replace:!0})),x.oR.error("Failed to join, try again later")}}catch(t){}})),className:"flex flex-col gap-y-2",children:[(0,m.jsx)("h1",{className:"",children:"Now let's make you a SneakerVault Member."}),(0,m.jsxs)("div",{className:"flex flex-col gap-y-1",children:["We've sent a code to",(0,m.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,m.jsx)("span",{className:"bg-gray-100 px-2",children:e.email}),(0,m.jsx)("button",{className:"hover:underline",onClick:()=>{e.setStep(1)},children:"Edit"})]})]}),(0,m.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,m.jsx)(p,{getValues:d,errors:o,name:"code",label:"Code",register:t}),(0,m.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,m.jsx)(p,{getValues:d,errors:o,label:"First Name",name:"firstName",register:t}),(0,m.jsx)(p,{errors:o,getValues:d,label:"Last Name",name:"lastName",register:t})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(p,{errors:o,getValues:d,label:"Password",name:"password",register:t}),(0,m.jsxs)("div",{className:"p-2",children:[(0,m.jsxs)("div",{className:"flex items-center gap-x-2 text-xs",children:[(0,m.jsx)(f,{}),"Minimum of 8 characters"]}),(0,m.jsxs)("div",{className:"flex items-center gap-x-2 text-xs",children:[(0,m.jsx)(f,{}),"Uppercase, lowercase letters and one number"]})]})]}),(0,m.jsx)("div",{children:(0,m.jsx)(p,{errors:o,getValues:d,label:"Address",name:"address",register:t})}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("input",{className:"w-full border p-2",type:"date",...t("dateOfBirth",{required:"Date of Birth is required"})}),o.dateOfBirth&&(0,m.jsx)("p",{className:"absolute",children:(0,m.jsx)("span",{children:null===(s=o.dateOfBirth)||void 0===s?void 0:s.message})})]})}),(0,m.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,m.jsx)("input",{...t("agreedToTermsAndPolicy",{required:"Check this"}),className:"cursor-pointer",type:"checkbox"}),(0,m.jsxs)("label",{className:"text-sm",children:["I agree to Nike's \xa0",(0,m.jsx)(i.N_,{to:"/privacy-policy",children:"Privacy Policy"}),"\xa0 and \xa0",(0,m.jsx)(i.N_,{to:"/terms",children:"Terms of Use."})]})]})]}),(0,m.jsx)("div",{className:"text-end mt-2 text-sm",children:(0,m.jsx)("button",{className:"bg-gray-700 hover:bg-gray-800 text-white rounded p-2",children:"Create Account"})})]})})}function p(e){var s;const[a,l]=(0,r.useState)(!1);return console.log(!a&&!e.getValues(e.name)),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("div",{style:{width:"fit-content"},className:(0,t.A)("flex items-center justify-center transition duration-200 px-1 justify-center absolute",{"bottom-[45px] text-xs":a,"inset-0 ":!a&&!e.getValues(e.name)}),children:(0,m.jsx)("label",{className:"bg-white px-2 rounded",children:e.label})}),(0,m.jsx)("input",{onFocus:()=>{l(!0)},className:"border w-full text-sm rounded p-4",...e.register(e.name,{required:"".concat(e.label," is required"),onBlur:e=>{l(!1)}})})]}),e.errors&&(0,m.jsx)("p",{children:(0,m.jsx)("span",{className:"text-red-500 text-xs",children:null===(s=e.errors[e.name])||void 0===s?void 0:s.message})})]})}function f(){return(0,m.jsxs)("svg",{"aria-label":"Error. Your password needs:",width:"11",height:"12",viewBox:"0 0 11 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M0.351562 1.35156L9.64823 10.6482",stroke:"#757575"}),(0,m.jsx)("path",{d:"M9.64823 1.35156L0.351562 10.6482",stroke:"#757575"})]})}}}]);
//# sourceMappingURL=610.e70b4515.chunk.js.map